<script type="text/ng-template" ng-app="activityBrowserApp" ng-controller="activityBrowserCtrl as $ctrl" id="activityBrowser">
    <div class="ui modal large active activity-browser-modal">
        <div class="header">
            <div class="ui two column grid">
                <div class="row">
                    <div class="column">
                        <span><i class="list layout icon"></i> Activity Browser</span>
                    </div>
                    <div class="column activity-browser-close-icon-container">
                        <i class="cursor-pointer close icon" ng-click="closeThisDialog()"></i>
                    </div>
                </div>
            </div>
        </div>
        <div class="content activity-browser-content">
            <div class="ui segment activity-browser-content-loader" ng-if="$ctrl.loading">
                <div class="ui active inverted dimmer">
                    <div class="ui text loader">Just one second, We're fetching activities for you.</div>
                </div>
            </div>
            <div class="ui grid">
                <div class="ui five stackable cards activity-browser-cards" ng-show="$ctrl.activitiesList.length > 0">
                    <div class="ui link card" ng-repeat="activity in $ctrl.activitiesList track by $index" ng-click="$ctrl.selectActivity($index, activity);">
                        <div class="image">
                            <a class="ui corner green label" ng-show="$ctrl.selectedActivityIndex == $index"><i class="check icon"></i></a>
                            <img ng-src="{{activity.appIcon || $ctrl.defaultActivityImage}}">
                        </div>
                        <div class="content">
                            <a class="header">{{activity.name}}</a>
                            <div class="meta" ng-if="activity.description" title="{{activity.description}}">
                                <a>{{activity.description | limitTo:25}}<span ng-if="activity.description.length > 25">...</span> </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ui huge info message activity-browser-center" ng-show="$ctrl.noActivities">
                    <p>No activities found.</p>
                </div>
                <div ng-if="$ctrl.errorLoadingActivities" class="ui negative message activity-browser-center">
                    <div class="header">
                        We're sorry!
                    </div>
                    <p>There's an error while fetching activities, <a href ng-click="$ctrl.getActivities()">Click here</a> to try again.
                    </p>
                </div>
            </div>
        </div>
        <div class="actions">
            <div class="ui buttons">
                <button class="ui orange button" ng-click="closeThisDialog()" type="button">Cancel</button>
                <div class="or"></div>
                <button class="ui blue button" ng-disabled="$ctrl.usePluginBtnDisable" type="button" ng-click="$ctrl.usePlugin()">Use</button>
            </div>
        </div>
    </div>
