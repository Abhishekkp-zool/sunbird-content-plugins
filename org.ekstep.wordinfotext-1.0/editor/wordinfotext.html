<script type="text/ng-template" ng-app="wordinfotextapp" ng-controller="wordinfotextcontroller as $ctrl" id="wordinfotext">
<div class="ui modal large active wordinfo-modal">
    <div class="header">
        <div class="ui two column grid">
            <div class="row">
                <div class="column">
                    <span>Word Info Popup</span>
                </div>
                <div class="column wordinfo-modal-close">
                    <i class="cursor-pointer close icon" ng-click="closeThisDialog()"></i>
                </div>
            </div>
        </div>
    </div>
    <div class="content">
        <div class="ui segment wordinfo-loading" ng-show="$ctrl.loading">
            <div class="ui active inverted dimmer">
                <div class="ui text loader">Just one second, We're fetching that content for you.</div>
            </div>
        </div>
        <div ng-if="$ctrl.errorLoadingKeywords" class="ui negative message wordinfo-browser-content">
            <div class="header">
                We're sorry!
            </div>
            <p>There's an error while fetching kaywords, <a href ng-click="$ctrl.getKeywords()">Click here</a> to try again.
            </p>
        </div>
        <div class="ui grid container" ng-if="!$ctrl.loading && !$ctrl.errorLoadingKeywords">
            <div class="one column row">
                <div class="column textHeight" ng-click="$ctrl.showTextbox()" style="cursor: pointer;">
                    {{$ctrl.selectedSentence}}
                </div>
            </div>
            <div class="two column row">
                <div class="column wordinfo-leftContent">
                    <a class="ui large label" ng-class="$ctrl.slectedWords.indexOf(word) > -1 ? 'teal' : '' " ng-repeat="word in $ctrl.keywords track by $index" ng-click="$ctrl.selectWords($index, word, $event)" ng-show="$ctrl.keywords.length > 0 && !$ctrl.showTypeownText">{{word}}</a>
                    <div class="ui form" ng-show="$ctrl.showTypeownText">
                        <div class="field" id="editorDiv">
                            <textarea ng-model="$ctrl.selectedSentence" rows="9" placeholder="Add text here"></textarea>
                        </div>
                        <button class="ui right floated primary button" ng-click="$ctrl.getKeywords()" ng-disabled="$ctrl.selectedSentence == ''">Get Words</button>
                    </div>
                    <div class="ui huge info message" ng-show="$ctrl.keywords.length == 0 && $ctrl.noKeywords">
                        <p>No Keywords found.</p>
                    </div>
                </div>
                <div class="column wordinfo-rightContent">
                    Letâ€™s create a sentence with word definition from Word Duniya! <br/><br/>
                    Select a text from the slide or type a new text to see words that have definition in Word Duniya.<br/><br/>
                    The words you chose in next step will be highlighted in the text. When a child taps on it, the word definition popup appears on the screen.
                </div>
            </div>
        </div>
    </div>
    <div class="actions">
        <div class="ui buttons" >
            <button class="ui orange button" ng-click="closeThisDialog()" type="button">Cancel</button>
            <div class="or"></div>
            <button class="ui blue button" type="button" ng-click="$ctrl.addToLesson()" ng-disabled="$ctrl.slectedWords.length <= 0 || $ctrl.errorLoadingKeywords">Add To Lesson</button>
        </div>
    </div>
</div>